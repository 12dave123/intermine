<?xml version="1.0"?>

<article>

<artheader>
	<date>2002-12-2</date>
	<title>Flymine - SQL Query Optimsation</title>
	<authorgroup>
		<author>
			<firstname>Matthew</firstname>
			<surname>Wakeling</surname>
		</author>
	</authorgroup>
</artheader>

<sect1>
<title>How this information is used to optimise the query</title>
<para>
	Some of the chunks of data are just passed through - others are fiddled with.
	<itemizedlist>
		<listitem>List of tables the search is ranging over.
			We use this to help choose which precomputed tables will help our query.
			We can only use precomputed tables that have an improper subset of this list of tables.</listitem>
		<listitem>List of fields to show.
			This must be converted to the new precomputed table names, and passed through.</listitem>
		<listitem>List of restrictions ANDed together from the where clause.
			We also use this to help choose which precomputed tables will help our query.
			We can only use precomputed tables that have an improper subset of this list of restrictions.
			We also need to convert the restrictions to the new precomputed table names before passing them through.</listitem>
		<listitem>A GROUP BY String.
			This must be converted to the new precomputed table names, and passed through.</listitem>
		<listitem>A list of fields to order by.
			This must be converted to the new precomputed table names, and passed through.</listitem>
		<listitem>A LIMIT number, and possibly an OFFSET number.
			At first, we can just pass this through.
			If we find that it is a bottleneck, we could do some clever caching of positions, taking advantage of the order by thingy.</listitem>
	</itemizedlist>
</para>
</sect1>

</article>
