<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_76) on Wed Apr 06 14:53:18 UTC 2016 -->
<title>DataLoaderHelper (intermine-javadoc)</title>
<meta name="date" content="2016-04-06">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DataLoaderHelper (intermine-javadoc)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/intermine/dataloader/DataLoader.html" title="class in org.intermine.dataloader"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/intermine/dataloader/DataTracker.html" title="class in org.intermine.dataloader"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/intermine/dataloader/DataLoaderHelper.html" target="_top">Frames</a></li>
<li><a href="DataLoaderHelper.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.intermine.dataloader</div>
<h2 title="Class DataLoaderHelper" class="title">Class DataLoaderHelper</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.intermine.dataloader.DataLoaderHelper</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="strong">DataLoaderHelper</span>
extends java.lang.Object</pre>
<div class="block">Class providing utility methods to help with primary key and data source priority configuration</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.util.Map&lt;org.intermine.metadata.Model,java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../org/intermine/dataloader/DataLoaderHelper.html#modelDescriptors">modelDescriptors</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static java.util.Map&lt;<a href="../../../org/intermine/dataloader/Source.html" title="class in org.intermine.dataloader">Source</a>,java.util.Properties&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../org/intermine/dataloader/DataLoaderHelper.html#sourceKeys">sourceKeys</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.util.Set&lt;<a href="../../../org/intermine/dataloader/Source.html" title="class in org.intermine.dataloader">Source</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../org/intermine/dataloader/DataLoaderHelper.html#verifiedSources">verifiedSources</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/intermine/dataloader/DataLoaderHelper.html#fieldIsPrimaryKey(org.intermine.metadata.Model,%20java.lang.Class,%20java.lang.String,%20org.intermine.dataloader.Source)">fieldIsPrimaryKey</a></strong>(org.intermine.metadata.Model&nbsp;model,
                 java.lang.Class&lt;?&gt;&nbsp;clazz,
                 java.lang.String&nbsp;fieldName,
                 <a href="../../../org/intermine/dataloader/Source.html" title="class in org.intermine.dataloader">Source</a>&nbsp;source)</code>
<div class="block">Returns true if the given field is a member of any primary key on the given class, for the
 given source.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../org/intermine/dataloader/DataLoaderHelper.html#getDescriptors(org.intermine.metadata.Model)">getDescriptors</a></strong>(org.intermine.metadata.Model&nbsp;model)</code>
<div class="block">Build a map from class and field names to a priority-ordered List of source name Strings.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.util.Properties</code></td>
<td class="colLast"><code><strong><a href="../../../org/intermine/dataloader/DataLoaderHelper.html#getKeyProperties(org.intermine.dataloader.Source)">getKeyProperties</a></strong>(<a href="../../../org/intermine/dataloader/Source.html" title="class in org.intermine.dataloader">Source</a>&nbsp;source)</code>
<div class="block">Return the Properties that enumerate the keys for this Source</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.Set&lt;org.intermine.metadata.PrimaryKey&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../org/intermine/dataloader/DataLoaderHelper.html#getPrimaryKeys(org.intermine.metadata.ClassDescriptor,%20org.intermine.dataloader.Source,%20org.intermine.objectstore.ObjectStore)">getPrimaryKeys</a></strong>(org.intermine.metadata.ClassDescriptor&nbsp;cld,
              <a href="../../../org/intermine/dataloader/Source.html" title="class in org.intermine.dataloader">Source</a>&nbsp;source,
              <a href="../../../org/intermine/objectstore/ObjectStore.html" title="interface in org.intermine.objectstore">ObjectStore</a>&nbsp;os)</code>
<div class="block">Return a Set of PrimaryKeys relevant to a given Source for a ClassDescriptor.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.util.Set&lt;org.intermine.metadata.PrimaryKey&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../org/intermine/dataloader/DataLoaderHelper.html#getSourcePrimaryKeys(org.intermine.dataloader.Source,%20org.intermine.metadata.Model)">getSourcePrimaryKeys</a></strong>(<a href="../../../org/intermine/dataloader/Source.html" title="class in org.intermine.dataloader">Source</a>&nbsp;source,
                    org.intermine.metadata.Model&nbsp;model)</code>
<div class="block">Fetch all primary keys for the given source.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/intermine/dataloader/DataLoaderHelper.html#objectPrimaryKeyNotNull(org.intermine.metadata.Model,%20org.intermine.model.InterMineObject,%20org.intermine.metadata.ClassDescriptor,%20org.intermine.metadata.PrimaryKey,%20org.intermine.dataloader.Source,%20org.intermine.util.IntToIntMap)">objectPrimaryKeyNotNull</a></strong>(org.intermine.metadata.Model&nbsp;model,
                       <a href="../../../org/intermine/model/InterMineObject.html" title="interface in org.intermine.model">InterMineObject</a>&nbsp;obj,
                       org.intermine.metadata.ClassDescriptor&nbsp;cld,
                       org.intermine.metadata.PrimaryKey&nbsp;pk,
                       <a href="../../../org/intermine/dataloader/Source.html" title="class in org.intermine.dataloader">Source</a>&nbsp;source,
                       <a href="../../../org/intermine/util/IntToIntMap.html" title="class in org.intermine.util">IntToIntMap</a>&nbsp;idMap)</code>
<div class="block">Look a the values of the given primary key in the object and return true if and only if some
 part of the primary key is null.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="sourceKeys">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sourceKeys</h4>
<pre>protected static&nbsp;java.util.Map&lt;<a href="../../../org/intermine/dataloader/Source.html" title="class in org.intermine.dataloader">Source</a>,java.util.Properties&gt; sourceKeys</pre>
</li>
</ul>
<a name="modelDescriptors">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>modelDescriptors</h4>
<pre>protected static&nbsp;java.util.Map&lt;org.intermine.metadata.Model,java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;&gt; modelDescriptors</pre>
</li>
</ul>
<a name="verifiedSources">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>verifiedSources</h4>
<pre>protected static&nbsp;java.util.Set&lt;<a href="../../../org/intermine/dataloader/Source.html" title="class in org.intermine.dataloader">Source</a>&gt; verifiedSources</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getDescriptors(org.intermine.metadata.Model)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDescriptors</h4>
<pre>protected static&nbsp;java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;&nbsp;getDescriptors(org.intermine.metadata.Model&nbsp;model)</pre>
<div class="block">Build a map from class and field names to a priority-ordered List of source name Strings.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>model</code> - the Model</dd>
<dt><span class="strong">Returns:</span></dt><dd>the Map</dd></dl>
</li>
</ul>
<a name="getPrimaryKeys(org.intermine.metadata.ClassDescriptor, org.intermine.dataloader.Source, org.intermine.objectstore.ObjectStore)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPrimaryKeys</h4>
<pre>public static&nbsp;java.util.Set&lt;org.intermine.metadata.PrimaryKey&gt;&nbsp;getPrimaryKeys(org.intermine.metadata.ClassDescriptor&nbsp;cld,
                                                              <a href="../../../org/intermine/dataloader/Source.html" title="class in org.intermine.dataloader">Source</a>&nbsp;source,
                                                              <a href="../../../org/intermine/objectstore/ObjectStore.html" title="interface in org.intermine.objectstore">ObjectStore</a>&nbsp;os)</pre>
<div class="block">Return a Set of PrimaryKeys relevant to a given Source for a ClassDescriptor. The Set
 contains all the primary keys that exist on a particular class that are used by the
 source, without performing any recursion. The Model.getClassDescriptorsForClass()
 method is recommended if you wish for all the primary keys of the class' parents
 as well.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cld</code> - the ClassDescriptor</dd><dd><code>source</code> - the Source</dd><dd><code>os</code> - the ObjectStore that these PrimaryKeys are used in, for creating indexes</dd>
<dt><span class="strong">Returns:</span></dt><dd>a Set of PrimaryKeys</dd></dl>
</li>
</ul>
<a name="getSourcePrimaryKeys(org.intermine.dataloader.Source, org.intermine.metadata.Model)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSourcePrimaryKeys</h4>
<pre>public static&nbsp;java.util.Set&lt;org.intermine.metadata.PrimaryKey&gt;&nbsp;getSourcePrimaryKeys(<a href="../../../org/intermine/dataloader/Source.html" title="class in org.intermine.dataloader">Source</a>&nbsp;source,
                                                                    org.intermine.metadata.Model&nbsp;model)</pre>
<div class="block">Fetch all primary keys for the given source. Parses source keys properties file, can handle
 both 'old style' key definitions (key name used in source, details found in keyDefs file)
 and 'new style' where whole key is defined in the source properties file.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>source</code> - name of source to fetch keys for</dd><dd><code>model</code> - the data model</dd>
<dt><span class="strong">Returns:</span></dt><dd>a set of primary key objects</dd></dl>
</li>
</ul>
<a name="getKeyProperties(org.intermine.dataloader.Source)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeyProperties</h4>
<pre>protected static&nbsp;java.util.Properties&nbsp;getKeyProperties(<a href="../../../org/intermine/dataloader/Source.html" title="class in org.intermine.dataloader">Source</a>&nbsp;source)</pre>
<div class="block">Return the Properties that enumerate the keys for this Source</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>source</code> - the Source</dd>
<dt><span class="strong">Returns:</span></dt><dd>the relevant Properties</dd></dl>
</li>
</ul>
<a name="objectPrimaryKeyNotNull(org.intermine.metadata.Model, org.intermine.model.InterMineObject, org.intermine.metadata.ClassDescriptor, org.intermine.metadata.PrimaryKey, org.intermine.dataloader.Source, org.intermine.util.IntToIntMap)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>objectPrimaryKeyNotNull</h4>
<pre>public static&nbsp;boolean&nbsp;objectPrimaryKeyNotNull(org.intermine.metadata.Model&nbsp;model,
                              <a href="../../../org/intermine/model/InterMineObject.html" title="interface in org.intermine.model">InterMineObject</a>&nbsp;obj,
                              org.intermine.metadata.ClassDescriptor&nbsp;cld,
                              org.intermine.metadata.PrimaryKey&nbsp;pk,
                              <a href="../../../org/intermine/dataloader/Source.html" title="class in org.intermine.dataloader">Source</a>&nbsp;source,
                              <a href="../../../org/intermine/util/IntToIntMap.html" title="class in org.intermine.util">IntToIntMap</a>&nbsp;idMap)
                                       throws org.intermine.metadata.MetaDataException</pre>
<div class="block">Look a the values of the given primary key in the object and return true if and only if some
 part of the primary key is null.  If the primary key contains a reference it is sufficient
 for any of the primary keys of the referenced object to be non-null (ie
 objectPrimaryKeyIsNull() returning true).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>model</code> - the Model in which to find ClassDescriptors</dd><dd><code>obj</code> - the Object to check</dd><dd><code>cld</code> - one of the classes that obj is.  Only primary keys for this classes will be
 checked</dd><dd><code>pk</code> - the primary key to check</dd><dd><code>source</code> - the Source database</dd><dd><code>idMap</code> - an IntToIntMap from source IDs to destination IDs</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the the given primary key is non-null for the given object</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.intermine.metadata.MetaDataException</code> - if anything goes wrong</dd></dl>
</li>
</ul>
<a name="fieldIsPrimaryKey(org.intermine.metadata.Model, java.lang.Class, java.lang.String, org.intermine.dataloader.Source)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>fieldIsPrimaryKey</h4>
<pre>public static&nbsp;boolean&nbsp;fieldIsPrimaryKey(org.intermine.metadata.Model&nbsp;model,
                        java.lang.Class&lt;?&gt;&nbsp;clazz,
                        java.lang.String&nbsp;fieldName,
                        <a href="../../../org/intermine/dataloader/Source.html" title="class in org.intermine.dataloader">Source</a>&nbsp;source)</pre>
<div class="block">Returns true if the given field is a member of any primary key on the given class, for the
 given source.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>model</code> - the Model in which to find ClassDescriptors</dd><dd><code>clazz</code> - the Class in which to look</dd><dd><code>fieldName</code> - the name of the field to check</dd><dd><code>source</code> - the Source that the keys belong to</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the field is a primary key</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/intermine/dataloader/DataLoader.html" title="class in org.intermine.dataloader"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/intermine/dataloader/DataTracker.html" title="class in org.intermine.dataloader"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/intermine/dataloader/DataLoaderHelper.html" target="_top">Frames</a></li>
<li><a href="DataLoaderHelper.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
