<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.6.0_27) on Wed Aug 14 15:23:22 BST 2013 -->
<title>CalculateLocations</title>
<meta name="date" content="2013-08-14">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CalculateLocations";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/intermine/bio/postprocess/BiosegIndexTask.html" title="class in org.intermine.bio.postprocess"><span class="strong">PREV CLASS</span></a></li>
<li><a href="../../../../org/intermine/bio/postprocess/CalculateLocations.SimpleLoc.html" title="class in org.intermine.bio.postprocess"><span class="strong">NEXT CLASS</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/intermine/bio/postprocess/CalculateLocations.html" target="_top">FRAMES</a></li>
<li><a href="CalculateLocations.html" target="_top">NO FRAMES</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>SUMMARY:&nbsp;</li>
<li><a href="#nested_class_summary">NESTED</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">FIELD</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">CONSTR</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">METHOD</a></li>
</ul>
<ul class="subNavList">
<li>DETAIL:&nbsp;</li>
<li><a href="#field_detail">FIELD</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">CONSTR</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">METHOD</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<p class="subTitle">org.intermine.bio.postprocess</p>
<h2 title="Class CalculateLocations" class="title">Class CalculateLocations</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.intermine.bio.postprocess.CalculateLocations</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <strong>CalculateLocations</strong>
extends java.lang.Object</pre>
<div class="block">Calculate additional mappings between annotation after loading into genomic ObjectStore.
 Currently designed to cope with situation after loading ensembl, may need to change
 as other annotation is loaded.  New Locations (and updated BioEntities) are stored
 back in originating ObjectStore.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/intermine/bio/postprocess/CalculateLocations.SimpleLoc.html" title="class in org.intermine.bio.postprocess">CalculateLocations.SimpleLoc</a></strong></code>
<div class="block">Lightweight representation of a Location for easier manipulation and
 storing in maps.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/intermine/objectstore/ObjectStore.html" title="interface in org.intermine.objectstore">ObjectStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/intermine/bio/postprocess/CalculateLocations.html#os">os</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../org/intermine/objectstore/ObjectStoreWriter.html" title="interface in org.intermine.objectstore">ObjectStoreWriter</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/intermine/bio/postprocess/CalculateLocations.html#osw">osw</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/intermine/bio/postprocess/CalculateLocations.html#CalculateLocations(org.intermine.objectstore.ObjectStoreWriter)">CalculateLocations</a></strong>(<a href="../../../../org/intermine/objectstore/ObjectStoreWriter.html" title="interface in org.intermine.objectstore">ObjectStoreWriter</a>&nbsp;osw)</code>
<div class="block">Create a new CalculateLocations object from an ObjectStoreWriter</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/intermine/bio/postprocess/CalculateLocations.html#createOverlapRelations(java.util.List, boolean)">createOverlapRelations</a></strong>(java.util.List&lt;java.lang.String&gt;&nbsp;classNamesToIgnore,
                      boolean&nbsp;ignoreSelfMatches)</code>
<div class="block">Create OverlapRelation objects for all overlapping SequenceFeatures by querying
 objects that are located on chromosomes and overlap.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/intermine/bio/postprocess/CalculateLocations.html#createSpanningLocations(java.lang.String, java.lang.String, java.lang.String)">createSpanningLocations</a></strong>(java.lang.String&nbsp;parentClsName,
                       java.lang.String&nbsp;childClsName,
                       java.lang.String&nbsp;refField)</code>
<div class="block">Create a Location that spans the locations of some child objects.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/intermine/bio/postprocess/CalculateLocations.html#overlap(org.intermine.bio.postprocess.CalculateLocations.SimpleLoc, org.intermine.bio.postprocess.CalculateLocations.SimpleLoc)">overlap</a></strong>(<a href="../../../../org/intermine/bio/postprocess/CalculateLocations.SimpleLoc.html" title="class in org.intermine.bio.postprocess">CalculateLocations.SimpleLoc</a>&nbsp;sl1,
       <a href="../../../../org/intermine/bio/postprocess/CalculateLocations.SimpleLoc.html" title="class in org.intermine.bio.postprocess">CalculateLocations.SimpleLoc</a>&nbsp;sl2)</code>
<div class="block">Return true if locations of two objects on some parent object
 have any overlap.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/intermine/bio/postprocess/CalculateLocations.html#setChromosomeLocationsAndLengths()">setChromosomeLocationsAndLengths</a></strong>()</code>
<div class="block">For each SequenceFeature, if it has a Location on a Chromosome, set the
 SequenceFeature.chromosomeLocation reference to be that Location and set the length
 field of the SequenceFeature to chromosomeLocation.end - chromosomeLocation.start + 1</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/intermine/bio/postprocess/CalculateLocations.html#setMissingChromosomeLocations()">setMissingChromosomeLocations</a></strong>()</code>
<div class="block">For each SequenceFeature, if it has a Location on a Chromosome, set the
 SequenceFeature.chromosomeLocation reference *if* the reference is not already set.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="osw">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>osw</h4>
<pre>protected&nbsp;<a href="../../../../org/intermine/objectstore/ObjectStoreWriter.html" title="interface in org.intermine.objectstore">ObjectStoreWriter</a> osw</pre>
</li>
</ul>
<a name="os">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>os</h4>
<pre>protected&nbsp;<a href="../../../../org/intermine/objectstore/ObjectStore.html" title="interface in org.intermine.objectstore">ObjectStore</a> os</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CalculateLocations(org.intermine.objectstore.ObjectStoreWriter)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CalculateLocations</h4>
<pre>public&nbsp;CalculateLocations(<a href="../../../../org/intermine/objectstore/ObjectStoreWriter.html" title="interface in org.intermine.objectstore">ObjectStoreWriter</a>&nbsp;osw)</pre>
<div class="block">Create a new CalculateLocations object from an ObjectStoreWriter</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>osw</code> - writer on genomic ObjectStore</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createOverlapRelations(java.util.List, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createOverlapRelations</h4>
<pre>public&nbsp;void&nbsp;createOverlapRelations(java.util.List&lt;java.lang.String&gt;&nbsp;classNamesToIgnore,
                          boolean&nbsp;ignoreSelfMatches)
                            throws java.lang.Exception</pre>
<div class="block">Create OverlapRelation objects for all overlapping SequenceFeatures by querying
 objects that are located on chromosomes and overlap.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>classNamesToIgnore</code> - a List of the names of those classes that should be ignored when
 searching for overlaps.  Sub classes to these classes are ignored too. In addition, an
 entry can be of the form class=class, which specifies that the particular combination should
 be ignored. Hence an entry of the form class is equivalent to class=InterMineObject</dd><dd><code>ignoreSelfMatches</code> - if true, don't create OverlapRelations between two objects of the
 same class</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if anything goes wrong</dd></dl>
</li>
</ul>
<a name="createSpanningLocations(java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createSpanningLocations</h4>
<pre>public&nbsp;void&nbsp;createSpanningLocations(java.lang.String&nbsp;parentClsName,
                           java.lang.String&nbsp;childClsName,
                           java.lang.String&nbsp;refField)
                             throws <a href="../../../../org/intermine/objectstore/ObjectStoreException.html" title="class in org.intermine.objectstore">ObjectStoreException</a></pre>
<div class="block">Create a Location that spans the locations of some child objects.  eg. create a location for
 Transcript that is as big as all the exons in it's exons collection.  One new location will
 be created for each possible Location.object - Transcript->Chromosome, Transcript->Contig
 etc.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>parentClsName</code> - the parent, eg. Transcript</dd><dd><code>childClsName</code> - the child, eg. Exon</dd><dd><code>refField</code> - the linking field eg. "exons"</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/intermine/objectstore/ObjectStoreException.html" title="class in org.intermine.objectstore">ObjectStoreException</a></code> - if the is a problem with the ObjectStore</dd></dl>
</li>
</ul>
<a name="setChromosomeLocationsAndLengths()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setChromosomeLocationsAndLengths</h4>
<pre>public&nbsp;void&nbsp;setChromosomeLocationsAndLengths()
                                      throws java.lang.Exception</pre>
<div class="block">For each SequenceFeature, if it has a Location on a Chromosome, set the
 SequenceFeature.chromosomeLocation reference to be that Location and set the length
 field of the SequenceFeature to chromosomeLocation.end - chromosomeLocation.start + 1</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if anything goes wrong</dd></dl>
</li>
</ul>
<a name="setMissingChromosomeLocations()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMissingChromosomeLocations</h4>
<pre>public&nbsp;void&nbsp;setMissingChromosomeLocations()
                                   throws java.lang.Exception</pre>
<div class="block">For each SequenceFeature, if it has a Location on a Chromosome, set the
 SequenceFeature.chromosomeLocation reference *if* the reference is not already set.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if anything goes wrong</dd></dl>
</li>
</ul>
<a name="overlap(org.intermine.bio.postprocess.CalculateLocations.SimpleLoc, org.intermine.bio.postprocess.CalculateLocations.SimpleLoc)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>overlap</h4>
<pre>protected static&nbsp;boolean&nbsp;overlap(<a href="../../../../org/intermine/bio/postprocess/CalculateLocations.SimpleLoc.html" title="class in org.intermine.bio.postprocess">CalculateLocations.SimpleLoc</a>&nbsp;sl1,
              <a href="../../../../org/intermine/bio/postprocess/CalculateLocations.SimpleLoc.html" title="class in org.intermine.bio.postprocess">CalculateLocations.SimpleLoc</a>&nbsp;sl2)</pre>
<div class="block">Return true if locations of two objects on some parent object
 have any overlap.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>sl1</code> - first location</dd><dd><code>sl2</code> - second location</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the two locations have any overlap</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/intermine/bio/postprocess/BiosegIndexTask.html" title="class in org.intermine.bio.postprocess"><span class="strong">PREV CLASS</span></a></li>
<li><a href="../../../../org/intermine/bio/postprocess/CalculateLocations.SimpleLoc.html" title="class in org.intermine.bio.postprocess"><span class="strong">NEXT CLASS</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/intermine/bio/postprocess/CalculateLocations.html" target="_top">FRAMES</a></li>
<li><a href="CalculateLocations.html" target="_top">NO FRAMES</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>SUMMARY:&nbsp;</li>
<li><a href="#nested_class_summary">NESTED</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">FIELD</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">CONSTR</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">METHOD</a></li>
</ul>
<ul class="subNavList">
<li>DETAIL:&nbsp;</li>
<li><a href="#field_detail">FIELD</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">CONSTR</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">METHOD</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
