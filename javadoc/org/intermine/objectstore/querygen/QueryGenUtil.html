<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_76) on Wed Apr 06 14:48:16 UTC 2016 -->
<title>QueryGenUtil (intermine-javadoc)</title>
<meta name="date" content="2016-04-06">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="QueryGenUtil (intermine-javadoc)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../org/intermine/objectstore/querygen/QueryGenUtil.QueryAndClass.html" title="class in org.intermine.objectstore.querygen"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/intermine/objectstore/querygen/QueryGenUtil.html" target="_top">Frames</a></li>
<li><a href="QueryGenUtil.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.intermine.objectstore.querygen</div>
<h2 title="Class QueryGenUtil" class="title">Class QueryGenUtil</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.intermine.objectstore.querygen.QueryGenUtil</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="strong">QueryGenUtil</span>
extends java.lang.Object</pre>
<div class="block">Utility methods for paths.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/intermine/objectstore/querygen/QueryGenUtil.QueryAndClass.html" title="class in org.intermine.objectstore.querygen">QueryGenUtil.QueryAndClass</a></strong></code>
<div class="block">Class to allow returning of two arguments from a method.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/intermine/objectstore/querygen/QueryGenUtil.html#addReferenceConstraint(org.intermine.metadata.Model,%20org.intermine.objectstore.query.Query,%20org.intermine.objectstore.query.QueryClass,%20java.lang.String,%20org.intermine.objectstore.query.QueryClass,%20boolean)">addReferenceConstraint</a></strong>(org.intermine.metadata.Model&nbsp;model,
                      <a href="../../../../org/intermine/objectstore/query/Query.html" title="class in org.intermine.objectstore.query">Query</a>&nbsp;q,
                      <a href="../../../../org/intermine/objectstore/query/QueryClass.html" title="class in org.intermine.objectstore.query">QueryClass</a>&nbsp;qcStart,
                      java.lang.String&nbsp;refName,
                      <a href="../../../../org/intermine/objectstore/query/QueryClass.html" title="class in org.intermine.objectstore.query">QueryClass</a>&nbsp;qcEnd,
                      boolean&nbsp;first)</code>
<div class="block">Add a contains constraint to Query (q) from qcStart from qcEnd via reference refName.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../org/intermine/objectstore/query/Query.html" title="class in org.intermine.objectstore.query">Query</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/intermine/objectstore/querygen/QueryGenUtil.html#constructQuery(org.intermine.metadata.Model,%20java.lang.String)">constructQuery</a></strong>(org.intermine.metadata.Model&nbsp;model,
              java.lang.String&nbsp;path)</code>
<div class="block">Construct an objectstore query represented by the given path.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="../../../../org/intermine/objectstore/querygen/QueryGenUtil.QueryAndClass.html" title="class in org.intermine.objectstore.querygen">QueryGenUtil.QueryAndClass</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/intermine/objectstore/querygen/QueryGenUtil.html#createClassFindingQuery(org.intermine.metadata.Model,%20java.lang.String)">createClassFindingQuery</a></strong>(org.intermine.metadata.Model&nbsp;model,
                       java.lang.String&nbsp;part)</code>
<div class="block">Takes a String representation of a query (a path), and creates a query.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/intermine/objectstore/querygen/QueryGenUtil.html#expandPath(org.intermine.objectstore.ObjectStore,%20java.lang.String)">expandPath</a></strong>(<a href="../../../../org/intermine/objectstore/ObjectStore.html" title="interface in org.intermine.objectstore">ObjectStore</a>&nbsp;os,
          java.lang.String&nbsp;path)</code>
<div class="block">Given a path return a set of paths replacing a path with a '+' preceding a class
 name with an additional path for every subclass of that class.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/intermine/objectstore/querygen/QueryGenUtil.html#getClassNames(org.intermine.objectstore.ObjectStore,%20java.lang.String)">getClassNames</a></strong>(<a href="../../../../org/intermine/objectstore/ObjectStore.html" title="interface in org.intermine.objectstore">ObjectStore</a>&nbsp;os,
             java.lang.String&nbsp;clsName)</code>
<div class="block">Given a String, perform a one of a set of expansions and return a Set of unqualified class
 names.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/intermine/objectstore/querygen/QueryGenUtil.html#validatePath(java.lang.String,%20org.intermine.metadata.Model)">validatePath</a></strong>(java.lang.String&nbsp;path,
            org.intermine.metadata.Model&nbsp;model)</code>
<div class="block">Path should be of the form: Class1 ref1 Class2 ref2 Class3
 Where the number of elements is greater than one and an odd number.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getClassNames(org.intermine.objectstore.ObjectStore, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClassNames</h4>
<pre>protected static&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;getClassNames(<a href="../../../../org/intermine/objectstore/ObjectStore.html" title="interface in org.intermine.objectstore">ObjectStore</a>&nbsp;os,
                                            java.lang.String&nbsp;clsName)
                                                        throws <a href="../../../../org/intermine/objectstore/ObjectStoreException.html" title="class in org.intermine.objectstore">ObjectStoreException</a></pre>
<div class="block">Given a String, perform a one of a set of expansions and return a Set of unqualified class
 names. Firstly, if the argument contains commas, it will be split up in the obvious way, and
 each element will be expanded in one of the following ways:

 <UL><LI>Plain unqualified class names will be returned unchanged</LI>
     <LI>An unqualified class name preceded by a "+" will be expanded to include all the
         subclasses</LI>
     <LI>A String with dots will be treated as a path to build into a query, and the results
         taken as a list of classes to include - the path must end with ".class"</LI>
 </UL></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>os</code> - the ObjectStore that the data to be queried is in</dd><dd><code>clsName</code> - an unqualified class name</dd>
<dt><span class="strong">Returns:</span></dt><dd>a set of class names</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/intermine/objectstore/ObjectStoreException.html" title="class in org.intermine.objectstore">ObjectStoreException</a></code> - if an error occurs running a query</dd></dl>
</li>
</ul>
<a name="createClassFindingQuery(org.intermine.metadata.Model, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createClassFindingQuery</h4>
<pre>protected static&nbsp;<a href="../../../../org/intermine/objectstore/querygen/QueryGenUtil.QueryAndClass.html" title="class in org.intermine.objectstore.querygen">QueryGenUtil.QueryAndClass</a>&nbsp;createClassFindingQuery(org.intermine.metadata.Model&nbsp;model,
                                                 java.lang.String&nbsp;part)</pre>
<div class="block">Takes a String representation of a query (a path), and creates a query. For example, the
 String "Department.class" will produce the query
 "SELECT DISTINCT Department.class FROM Department".</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>model</code> - the Model that the query uses</dd><dd><code>part</code> - the String describing the query</dd>
<dt><span class="strong">Returns:</span></dt><dd>a QueryAndClass - the results of the given Query is a list of classes, which should
 all be decomposed and the constituents filtered to allow only subclasses of the given Class</dd></dl>
</li>
</ul>
<a name="validatePath(java.lang.String, org.intermine.metadata.Model)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validatePath</h4>
<pre>public static&nbsp;void&nbsp;validatePath(java.lang.String&nbsp;path,
                org.intermine.metadata.Model&nbsp;model)</pre>
<div class="block">Path should be of the form: Class1 ref1 Class2 ref2 Class3
 Where the number of elements is greater than one and an odd number.  Check
 that all classes anf references are valid in the model.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - the path string</dd><dd><code>model</code> - the Model use to find meta data</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if path not valid</dd></dl>
</li>
</ul>
<a name="expandPath(org.intermine.objectstore.ObjectStore, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expandPath</h4>
<pre>public static&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;expandPath(<a href="../../../../org/intermine/objectstore/ObjectStore.html" title="interface in org.intermine.objectstore">ObjectStore</a>&nbsp;os,
                                         java.lang.String&nbsp;path)
                                                  throws <a href="../../../../org/intermine/objectstore/ObjectStoreException.html" title="class in org.intermine.objectstore">ObjectStoreException</a></pre>
<div class="block">Given a path return a set of paths replacing a path with a '+' preceding a class
 name with an additional path for every subclass of that class.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>os</code> - the ObjectStore that the data is stored in</dd><dd><code>path</code> - the path to expand</dd>
<dt><span class="strong">Returns:</span></dt><dd>a Set of paths</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/intermine/objectstore/ObjectStoreException.html" title="class in org.intermine.objectstore">ObjectStoreException</a></code> - if an error occurs while running a query</dd></dl>
</li>
</ul>
<a name="constructQuery(org.intermine.metadata.Model, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>constructQuery</h4>
<pre>public static&nbsp;<a href="../../../../org/intermine/objectstore/query/Query.html" title="class in org.intermine.objectstore.query">Query</a>&nbsp;constructQuery(org.intermine.metadata.Model&nbsp;model,
                   java.lang.String&nbsp;path)
                            throws java.lang.ClassNotFoundException</pre>
<div class="block">Construct an objectstore query represented by the given path.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>model</code> - the Model use to find meta data</dd><dd><code>path</code> - path to construct query for</dd>
<dt><span class="strong">Returns:</span></dt><dd>the constructed query</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.ClassNotFoundException</code> - if problem processing path</dd>
<dd><code>java.lang.IllegalArgumentException</code> - if problem processing path</dd></dl>
</li>
</ul>
<a name="addReferenceConstraint(org.intermine.metadata.Model, org.intermine.objectstore.query.Query, org.intermine.objectstore.query.QueryClass, java.lang.String, org.intermine.objectstore.query.QueryClass, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>addReferenceConstraint</h4>
<pre>protected static&nbsp;void&nbsp;addReferenceConstraint(org.intermine.metadata.Model&nbsp;model,
                          <a href="../../../../org/intermine/objectstore/query/Query.html" title="class in org.intermine.objectstore.query">Query</a>&nbsp;q,
                          <a href="../../../../org/intermine/objectstore/query/QueryClass.html" title="class in org.intermine.objectstore.query">QueryClass</a>&nbsp;qcStart,
                          java.lang.String&nbsp;refName,
                          <a href="../../../../org/intermine/objectstore/query/QueryClass.html" title="class in org.intermine.objectstore.query">QueryClass</a>&nbsp;qcEnd,
                          boolean&nbsp;first)</pre>
<div class="block">Add a contains constraint to Query (q) from qcStart from qcEnd via reference refName.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>model</code> - the Model use to find meta data</dd><dd><code>q</code> - the query</dd><dd><code>qcStart</code> - the QueryClass that contains the reference</dd><dd><code>refName</code> - name of reference to qcEnd</dd><dd><code>qcEnd</code> - the target QueryClass of refName</dd><dd><code>first</code> - true if this is the first constraint added - qcStart needs to be added
 to the query</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../org/intermine/objectstore/querygen/QueryGenUtil.QueryAndClass.html" title="class in org.intermine.objectstore.querygen"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/intermine/objectstore/querygen/QueryGenUtil.html" target="_top">Frames</a></li>
<li><a href="QueryGenUtil.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
