<project name="flymine-cc" default="masterbuild"> 

  <property name="build.properties.local" value="${user.home}/build.properties.${ant.project.name}" />
  <property name="runtime.properties.local" value="${user.home}/${ant.project.name}.properties" />

  <target name="checkout" description="Update packages from CVS">
    <cvs cvsroot=":ext:cvs-internal.flymine.org:/cvs"
      package="flymine" dest="/shared/log/buildlog/.projects"/>
  </target>

  <target name="clean" description="Clean all build products">
    <ant dir="/shared/log/buildlog/.projects/flymine" target="clean"/>
  </target>

  <target name="build">
    <ant dir="/shared/log/buildlog/.projects/flymine" target="compile-main"/>
  </target>

  <target name="unittest" depends="build">
    <ant dir="/shared/log/buildlog/.projects/flymine" target="fulltest"/>
  </target>

  <target name="release">
    <ant dir="/shared/log/buildlog/.projects/flymine" target="release-jar"/>
  </target>

  <target name="masterbuild" depends="checkout,unittest"
    description="Cruise control master build"/> 

  <target name="cleanbuild" depends="clean,masterbuild"
    description="Cruise control clean build"/>

</project>

