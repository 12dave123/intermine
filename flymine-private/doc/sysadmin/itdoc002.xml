<?xml version="1.0" encoding="ISO-8859-1"?>
<article>

    <artheader>
        <title>002 - Servers</title>
        <authorgroup>
            <author>
                <firstname>François</firstname>
                <surname>Guillier</surname>
            </author>
        </authorgroup>
        <pubdate>$Date$</pubdate>
        <releaseinfo>$Revision$</releaseinfo>
    </artheader>

    <sect1>
        <title>Network considerations</title>

        <para>The FlyMine Project has its own networks protected by a firewall. Some servers (as well as workstations) are visible from outside thanks to a translation mechanism (DNAT and SNAT) hence the use of several IP addresses for the same machine.</para>

        <para>Two separate <emphasis>@flymine.org</emphasis> domains run at the same time. The internal one contains all the machines with their internal IP address. The external one (replicated on two other external servers) is only a subset of the first one and uses the public addresses (which are usually also available with a <emphasis>@gen.cam.ac.uk</emphasis> format).</para>

        <para>The following IP networks are in use:</para>
        <itemizedlist>
            <listitem>&quot;public&quot;: 131.111.146.0/25</listitem>
            <listitem>DMZ: 192.168.192.0/24</listitem>
            <listitem>Internal: 192.168.128.0/24</listitem>
        </itemizedlist>

    </sect1>

    <sect1>
        <title>Physical point of view</title>

        <sect2>
            <title>flymine.flymine.org</title>

            <itemizedlist>
                <listitem>Located on the DMZ</listitem>
                <listitem>Private address: 192.168.192.1</listitem>
                <listitem>External address: 131.111.146.26</listitem>
                <listitem>Pentium III - 1.13Ghz</listitem>
                <listitem>DNS (external), Mail hub, CVS repository (external - partial copy of the internal), Web server</listitem>
            </itemizedlist>
        </sect2>

        <sect2>
            <title>flywall.flymine.org</title>

            <itemizedlist>
                <listitem>Private addresses: 192.126.128.240/192.168.192.240</listitem>
                <listitem>External address: 131.111.146.25</listitem>
                <listitem>Pentium III - 1.13Ghz</listitem>
                <listitem>Firewall/Router, DNS (internal)</listitem>
            </itemizedlist>
        </sect2>

        <sect2>
            <title>www1.flymine.org</title>

            <itemizedlist>
                <listitem>Private address: 192.126.128.91</listitem>
                <listitem>Pentium III - 1.13Ghz</listitem>
                <listitem>Backup(snapshots), CVS repository (internal)</listitem>
            </itemizedlist>
        </sect2>
      
    </sect1>

    <sect1>
        <title>Logical point of view (services)</title>

        <para>Here are the services provided in alphabetical order</para>

        <sect2>
            <title>CVS</title>

            <para>The internal cvs server is <filename>cvs-internal.flymine.org</filename>.</para>

            <para>There is a partial copy every 10 minutes from 8:00 to 19:00 on business days to the external cvs (<filename>cvs.flymine.org</filename>). The external cvs is also accessible via HTTP (ViewCVS).</para>
        </sect2>

        <sect2>
            <title>Emails</title>

            <para>The email server is <filename>mail.flymine.org</filename>. Please refer to <ulink url="itdoc001">001 - Emails</ulink> for more information.</para>
        </sect2>

        <sect2>
            <title>NTP</title>

            <para>Two ntp servers are available: <filename>ntp0.flymine.org</filename> and <filename>ntp1.flymine.org</filename>. They are stratum 3 time servers.</para>
        </sect2>

        <sect2>
            <title>Web</title>

            <para>The webserver (<filename>www.flymine.org</filename>) is accessible from anywhere. Some pages (Internal sections) have a restricted access. User pages (/~user/) are available from inside the <emphasis>@flymine.org</emphasis> domain.</para>
        </sect2>


    </sect1>

</article>
